[build-system]
requires = ["setuptools"]
build-backend = "setuptools.build_meta"

[project]
name = "salesforce-functions"
description = "Python support for Salesforce Functions."
readme = "README.md"
license = { text = "BSD 3-Clause License" }
dynamic = ["version"]
requires-python = ">=3.10"
# httptools and uvloop are optional uvicorn dependencies that improve performance.
dependencies = [
    "aiohttp>=3.8.3,<4",
    "httptools>=0.5.0,<0.6",
    # TODO: Should this have platform conditionals (eg for PyPy)?
    "orjson>=3.8.0,<4",
    "starlette>=0.21.0,<0.22",
    "structlog>=22.1.0,<23",
    "uvicorn>=0.19.0,<0.20",
    "uvloop>=0.17.0,<0.18; (sys_platform != 'win32' and sys_platform != 'cygwin') and platform_python_implementation != 'PyPy'",
]

[project.scripts]
sf-functions-python = "salesforce_functions._internal.cli:main"

[tool.setuptools.dynamic]
version = { attr = "salesforce_functions.__version__.__version__" }
